import{a as g,R as T}from"./react-ePaza90U.js";import{w as M}from"./use-sync-external-store-R5Bn9tbY.js";var u="default"in g?T:g,x=Symbol.for("react-redux-context"),C=typeof globalThis<"u"?globalThis:{};function j(){if(!u.createContext)return{};const t=C[x]??(C[x]=new Map);let o=t.get(u.createContext);return o||(o=u.createContext(null),t.set(u.createContext,o)),o}var s=j(),q=()=>{throw new Error("uSES not initialized!")};function v(t=s){return function(){return u.useContext(t)}}var m=v(),w=q,L=t=>{w=t},O=(t,o)=>t===o;function P(t=s){const o=t===s?m:v(t),e=(n,r={})=>{const{equalityFn:c=O,devModeChecks:a={}}=typeof r=="function"?{equalityFn:r}:r,{store:l,subscription:f,getServerState:i,stabilityCheck:d,identityFunctionCheck:S}=o();u.useRef(!0);const p=u.useCallback({[n.name](b){return n(b)}}[n.name],[n,d,a.stabilityCheck]),y=w(f.addNestedSub,l.getState,i||l.getState,p,c);return u.useDebugValue(y),y};return Object.assign(e,{withTypes:()=>e}),e}var R=P();function U(t){t()}function W(){let t=null,o=null;return{clear(){t=null,o=null},notify(){U(()=>{let e=t;for(;e;)e.callback(),e=e.next})},get(){const e=[];let n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let n=!0;const r=o={callback:e,next:null,prev:o};return r.prev?r.prev.next=r:t=r,function(){!n||t===null||(n=!1,r.next?r.next.prev=r.prev:o=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var k={notify(){},get:()=>[]};function z(t,o){let e,n=k,r=0,c=!1;function a(N){d();const F=n.subscribe(N);let h=!1;return()=>{h||(h=!0,F(),S())}}function l(){n.notify()}function f(){b.onStateChange&&b.onStateChange()}function i(){return c}function d(){r++,e||(e=o?o.addNestedSub(f):t.subscribe(f),n=W())}function S(){r--,e&&r===0&&(e(),e=void 0,n.clear(),n=k)}function p(){c||(c=!0,d())}function y(){c&&(c=!1,S())}const b={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:f,isSubscribed:i,trySubscribe:p,tryUnsubscribe:y,getListeners:()=>n};return b}var D=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V=D?u.useLayoutEffect:u.useEffect;function A({store:t,context:o,children:e,serverState:n,stabilityCheck:r="once",identityFunctionCheck:c="once"}){const a=u.useMemo(()=>{const i=z(t);return{store:t,subscription:i,getServerState:n?()=>n:void 0,stabilityCheck:r,identityFunctionCheck:c}},[t,n,r,c]),l=u.useMemo(()=>t.getState(),[t]);V(()=>{const{subscription:i}=a;return i.onStateChange=i.notifyNestedSubs,i.trySubscribe(),l!==t.getState()&&i.notifyNestedSubs(),()=>{i.tryUnsubscribe(),i.onStateChange=void 0}},[a,l]);const f=o||s;return u.createElement(f.Provider,{value:a},e)}var B=A;function E(t=s){const o=t===s?m:v(t),e=()=>{const{store:n}=o();return n};return Object.assign(e,{withTypes:()=>e}),e}var H=E();function I(t=s){const o=t===s?H:E(t),e=()=>o().dispatch;return Object.assign(e,{withTypes:()=>e}),e}var _=I();L(M.useSyncExternalStoreWithSelector);export{B as P,_ as a,R as u};
